<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>管理后台</title>
    <script src="__EASYUI__/jquery.min.js"></script>
    <script src="__EASYUI__/jquery.easyui.min.js"></script>
    <script src="__EASYUI__/locale/easyui-lang-zh_CN.js"></script>
    <link rel="stylesheet" href="__EASYUI__/super/css/font-awesome.min.css">
    <link rel="stylesheet" href="__EASYUI__/super/superRed.css" id="themeCss">
    <script src="__EASYUI__/super/super.js"></script>
    <script src="__ADMIN_JS__/index.js" type="text/javascript" charset="utf-8"></script>

    <link href="__PUBLIC__/statics/css/admin.css" rel="stylesheet" />
    <script src="__EASYUI__/common.js"></script>
    <script src="__EASYUI__/formatter.js"></script>
    <script src="__EASYUI__/extend/validate.js"></script>
    <script src="__KINDEDITOR__/kindeditor-all.js"></script>
    <script src="__KINDEDITOR__/lang/zh-CN.js"></script>
</head>
<body style="padding: 0">

<script src="__ADMIN_JS__/carmanage.js" type="text/javascript" charset="utf-8"></script>
<table id="CarGrid" class="easyui-datagrid"url="{:U('Admin/Car/ajaxCarList')}" pagination="true" toolbar="#toolbar_car" singleSelect="true" rownumbers="true" pageSize="20">
    <thead>
    <tr>
        <th field="id" width="200" >编号</th>
        <th field="driver" width="150" >司机</th>
        <th field="carnumber" width="300" >车牌号</th>
        <th field="status" width="100" formatter="formatCar" >车辆状态</th>
    </tr>
    </thead>
</table>

<div id="toolbar_car">
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-plus" plain="true" onclick="addCar()">添加</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-edit" plain="true" onclick="editCar()">编辑</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-remove" plain="true" onclick="destroyCar()">删除</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-check" plain="true" onclick="usingCar()">启用</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-ban" plain="true" onclick="forbiddenCar()">停用</a>


</div>
<!-- 添加 -->
<div id="addCar" class="easyui-dialog" title="添加" style="width:450px;height:500px;padding:10px 20px;" closed="true" modal="true">
    <form id="addCarForm" method="post">
        <table>
            <tr>
                <td>司机姓名:</td>
                <td><input name="driver" class="easyui-textbox" data-options="delay:1000,required:true,height:30" /></td>
            </tr>
            <tr>
                <td>车牌号:</td>
                <td><input name="carnumber" class="easyui-textbox" data-options="delay:1000,required:true,height:30" /></td>
            </tr>
            <tr>
                <td>状态:</td>
                <td>
                    <select  panelMaxHeight="100px" name="status" class="easyui-combobox" style="width:174px" data-options="delay:1000,required:true,multiple:false">
                        <option value="0">停用</option>
                        <option value="1">启用</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-ok" onclick="addCarSubmit()" style="width:90px">保存</a>
                    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#addCar').dialog('close')" style="width:90px">取消</a></td>
            </tr>
        </table>

    </form>
</div>
<div id="editCar" class="easyui-dialog" title="编辑" style="width:450px;height:500px;padding:10px 20px;" closed="true" modal="true">
    <form id="editCarForm" method="post">
        <input type="hidden" name="id" value="">
        <table>
            <tr>
                <td>司机姓名:</td>
                <td><input name="driver" class="easyui-textbox" data-options="delay:1000,required:true,height:30" /></td>
            </tr>
            <tr>
                <td>车牌号:</td>
                <td><input name="carnumber" class="easyui-textbox" data-options="delay:1000,required:true,height:30" /></td>
            </tr>
            <tr>
                <td>状态:</td>
                <td>
                    <select  panelMaxHeight="100px" name="status" class="easyui-combobox" style="width:174px" data-options="delay:1000,required:true,multiple:false">
                        <option value="0">停用</option>
                        <option value="1">启用</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-ok" onclick="editCarSubmit()" style="width:90px">保存</a>
                    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#editCar').dialog('close')" style="width:90px">取消</a></td>
            </tr>
        </table>

    </form>
</div>

<script type="text/javascript">
    var addCarUrl= "{:U('Admin/Car/addCar')}";
    var editCarUrl="{:U('Admin/Car/editCar')}";
    var deleteCarUrl="{:U('Admin/Car/deleteCar')}";
    var usingUrl = "{:U('Admin/Car/usingCar')}";
    var forbiddenUrl="{:U('Admin/Car/forbiddenCar')}";
</script>
</body>
</html>
